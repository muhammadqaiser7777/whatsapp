<!-- contacts-list.component.html -->
<button class="btn btn-primary open-list" (click)="toggleOffCanvas()"><div class="contact-list">    
    <svg viewBox="0 0 24 24" height="48" width="48" preserveAspectRatio="xMidYMid meet"  fill="none"><title>new-chat-outline</title><path d="M9.53277 12.9911H11.5086V14.9671C11.5086 15.3999 11.7634 15.8175 12.1762 15.9488C12.8608 16.1661 13.4909 15.6613 13.4909 15.009V12.9911H15.4672C15.9005 12.9911 16.3181 12.7358 16.449 12.3226C16.6659 11.6381 16.1606 11.0089 15.5086 11.0089H13.4909V9.03332C13.4909 8.60007 13.2361 8.18252 12.8233 8.05119C12.1391 7.83391 11.5086 8.33872 11.5086 8.991V11.0089H9.49088C8.83941 11.0089 8.33411 11.6381 8.55097 12.3226C8.68144 12.7358 9.09947 12.9911 9.53277 12.9911Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M0.944298 5.52617L2.99998 8.84848V17.3333C2.99998 18.8061 4.19389 20 5.66665 20H19.3333C20.8061 20 22 18.8061 22 17.3333V6.66667C22 5.19391 20.8061 4 19.3333 4H1.79468C1.01126 4 0.532088 4.85997 0.944298 5.52617ZM4.99998 8.27977V17.3333C4.99998 17.7015 5.29845 18 5.66665 18H19.3333C19.7015 18 20 17.7015 20 17.3333V6.66667C20 6.29848 19.7015 6 19.3333 6H3.58937L4.99998 8.27977Z" fill="currentColor"></path></svg>
</div></button>

<div class="off-canvas" [ngClass]="{'show': isOffCanvasVisible}">
  <div class="off-canvas-header">
    
    <button class="btn btn-secondary close-button" (click)="toggleOffCanvas()" [disabled]="areElementsVisible"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
        <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
      </svg></button>

      <h4 class="select" *ngIf="areElementsVisible">Select Participants</h4>

    <button class="cancel" (click)="cancel()" *ngIf="areElementsVisible" >Cancel</button>
  </div>
  <div class="off-canvas-body">
    <div *ngIf="contacts.length > 0; else noContacts">
      <ul>
        <!-- List item 1 -->
        <li class="create"
            *ngFor="let item of ['Item 1', 'Item 2']; let i = index"
            (click)="selectElement(i)"
            (click)="create()"
            [class.selected]="isSelected(i)">
          <button class="make" [disabled]="areElementsVisible">
            <div class="img">         
              <svg *ngIf="i === 0" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24" fill="currentColor">
                <path d="M0-240v-63q0-43 44-70t116-27q13 0 25 .5t23 2.5q-14 21-21 44t-7 48v65H0Zm240 0v-65q0-32 17.5-58.5T307-410q32-20 76.5-30t96.5-10q53 0 97.5 10t76.5 30q32 20 49 46.5t17 58.5v65H240Zm540 0v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t23.5-.5q72 0 116 26.5t44 70.5v63H780Zm-455-80h311q-10-20-55.5-35T480-370q-55 0-100.5 15T325-320ZM160-440q-33 0-56.5-23.5T80-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T160-440Zm640 0q-33 0-56.5-23.5T720-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T800-440Zm-320-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-80q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560Zm1 240Zm-1-280Z"/>
              </svg>
              <svg *ngIf="i === 1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-megaphone-fill" viewBox="0 0 16 16">
                <path d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0zm-1 .724c-2.067.95-4.539 1.481-7 1.656v6.237a25 25 0 0 1 1.088.085c2.053.204 4.038.668 5.912 1.56zm-8 7.841V4.934c-.68.027-1.399.043-2.008.053A2.02 2.02 0 0 0 0 7v2c0 1.106.896 1.996 1.994 2.009l.496.008a64 64 0 0 1 1.51.048m1.39 1.081q.428.032.85.078l.253 1.69a1 1 0 0 1-.983 1.187h-.548a1 1 0 0 1-.916-.599l-1.314-2.48a66 66 0 0 1 1.692.064q.491.026.966.06"/>
              </svg>
            </div>                
            <h3 *ngIf="i === 0">Create Group</h3>
            <h3 *ngIf="i === 1">Create Broadcast</h3>
          </button>
        </li>
      
        <!-- Contact list items -->
        <li *ngFor="let contact of contacts">
          <app-contact 
            [contact]="contact" 
            
            (contactClicked)="onContactSelected()"
            (minimumParticipantsChanged)="onMinimumParticipantsChanged($event)">
          </app-contact>
     
        </li>
      </ul>
      

      <button class="tick" *ngIf="areElementsVisible" (click)="name()" [disabled]="!minimumParticipants">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" xml:space="preserve" viewBox="0 0 50 50" id="check" stroke="white" stroke-width="2">
          <path d="M47.293 6.94L14 40.232 2.707 28.94l-1.414 1.413L14 43.06 48.707 8.353z" fill="none"></path>
        </svg>
      </button>
      
      <app-group-broadcast-maker 
        [selectedIndex]="selectedElement" 
        [isVisible]="isGroupBroadcastMakerVisible"
        (selectedIndexChange)="selectedElement = $event"
        (confirmed)="onConfirmed()"
        (closed)="onClosed()"
        *ngIf="isGroupBroadcastMakerVisible">
      </app-group-broadcast-maker>
  </div>
    <ng-template #noContacts>
      <p>No contacts available.</p>
    </ng-template>
  </div>
</div>
